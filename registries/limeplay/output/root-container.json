{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "root-container",
  "registryDependencies": [
    "https://limeplay.winoffrg.dev/r/media-provider.json"
  ],
  "files": [
    {
      "path": "registry/default/ui/root-container.tsx",
      "content": "\"use client\"\n\nimport { composeRefs } from \"@radix-ui/react-compose-refs\"\nimport React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { useMediaStore } from \"@/registry/default/ui/media-provider\"\n\nexport interface RootContainerProps extends React.ComponentPropsWithoutRef<\"div\"> {\n  /**\n   * Height in pixels for aspect ratio calculation\n   */\n  height?: number\n  /**\n   * Width in pixels for aspect ratio calculation\n   */\n  width?: number\n}\n\nexport type RootContainerPropsDocs = Pick<\n  RootContainerProps,\n  \"height\" | \"width\"\n>\n\nexport const RootContainer = React.forwardRef<\n  HTMLDivElement,\n  RootContainerProps\n>((props, forwardedRef) => {\n  const { children, className, height, width, ...etc } = props\n  const idle = useMediaStore((state) => state.idle)\n  const forceIdle = useMediaStore((state) => state.forceIdle)\n  const setIdle = useMediaStore((state) => state.setIdle)\n  const status = useMediaStore((state) => state.status)\n  const debug = useMediaStore((state) => state.debug)\n\n  const setPlayerContainerRef = useMediaStore(\n    (state) => state.setPlayerContainerRef\n  )\n  const aspectRatio = React.useMemo(\n    () => calculateAspectRatio(width, height),\n    [height, width]\n  )\n    ?.split(\":\")\n    .join(\"/\")\n\n  return (\n    <div\n      aria-label=\"Media player\"\n      className={cn(\n        className,\n        `\n          group/root aspect-(--aspect-ratio)\n          focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary/50\n        `\n      )}\n      data-idle={debug || forceIdle ? \"false\" : idle}\n      data-layout-type=\"root-container\"\n      data-status={status}\n      onBlur={() => {\n        if (!forceIdle) {\n          setIdle(true)\n        }\n      }}\n      onFocus={() => {\n        if (!forceIdle) {\n          setIdle(false)\n        }\n      }}\n      onPointerEnter={() => {\n        if (!forceIdle) {\n          setIdle(false)\n        }\n      }}\n      onPointerLeave={() => {\n        if (!forceIdle) {\n          setIdle(true)\n        }\n      }}\n      onPointerMove={() => {\n        if (!forceIdle) {\n          setIdle(false)\n        }\n      }}\n      // Show controls like tabbing over\n      // onKeyDown={}\n      // onPointerMove show controls again\n      // onPointerUp IDK yet, but probably\n      // onPointerLeave hide controls now, maybe with timeout?\n      // onFocus show controls and set focus true so that keyboard shortcuts are triggered\n      // onBlur hide controls and set focus to false\n      onPointerUp={() => {\n        if (!forceIdle) {\n          setIdle(false)\n        }\n      }}\n      ref={composeRefs(forwardedRef, setPlayerContainerRef)}\n      role=\"region\"\n      style={{\n        [\"--aspect-ratio\" as string]: aspectRatio,\n        [\"--height\" as string]: height,\n        [\"--width\" as string]: width,\n      }}\n      {...etc}\n    >\n      {children}\n    </div>\n  )\n})\n\nRootContainer.displayName = \"RootContainer\"\n\nfunction calculateAspectRatio(width?: number, height?: number) {\n  if (width && height) {\n    const gcd = (a: number, b: number): number => {\n      return b === 0 ? a : gcd(b, a % b)\n    }\n    const divisor = gcd(width, height)\n    const aspectWidth = width / divisor\n    const aspectHeight = height / divisor\n    return `${aspectWidth}:${aspectHeight}`\n  }\n}\n",
      "type": "registry:ui",
      "target": "components/limeplay/root-container.tsx"
    }
  ],
  "type": "registry:ui"
}