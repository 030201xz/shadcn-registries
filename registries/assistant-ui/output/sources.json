{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "sources",
  "type": "registry:component",
  "files": [
    {
      "content": "\"use client\";\n\nimport { memo, useState } from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport type { SourceMessagePartComponent } from \"@assistant-ui/react\";\nimport { cn } from \"@/lib/utils\";\n\nconst extractDomain = (url: string): string => {\n  try {\n    return new URL(url).hostname.replace(/^www\\./, \"\");\n  } catch {\n    return url;\n  }\n};\n\nconst getDomainInitial = (url: string): string => {\n  const domain = extractDomain(url);\n  return domain.charAt(0).toUpperCase();\n};\n\nconst sourceVariants = cva(\n  \"inline-flex cursor-pointer items-center gap-1.5 rounded-md text-xs outline-none transition-colors focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-secondary text-secondary-foreground hover:bg-secondary/70\",\n        outline:\n          \"border bg-transparent text-muted-foreground hover:bg-accent hover:text-accent-foreground\",\n        ghost:\n          \"text-muted-foreground hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"px-2 py-1\",\n        sm: \"px-1.5 py-0.5\",\n        lg: \"px-2.5 py-1.5\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nfunction SourceIcon({\n  url,\n  className,\n  ...props\n}: React.ComponentProps<\"span\"> & { url: string }) {\n  const [hasError, setHasError] = useState(false);\n  const domain = extractDomain(url);\n\n  if (hasError) {\n    return (\n      <span\n        data-slot=\"source-icon-fallback\"\n        className={cn(\n          \"flex size-3.5 shrink-0 items-center justify-center rounded-sm bg-muted font-medium text-[10px]\",\n          className,\n        )}\n        {...props}\n      >\n        {getDomainInitial(url)}\n      </span>\n    );\n  }\n\n  return (\n    <img\n      data-slot=\"source-icon\"\n      src={`https://www.google.com/s2/favicons?domain=${domain}&sz=32`}\n      alt=\"\"\n      className={cn(\"size-3.5 shrink-0 rounded-sm\", className)}\n      onError={() => setHasError(true)}\n      {...(props as React.ComponentProps<\"img\">)}\n    />\n  );\n}\n\nfunction SourceTitle({ className, ...props }: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"source-title\"\n      className={cn(\"max-w-37.5 truncate\", className)}\n      {...props}\n    />\n  );\n}\n\nexport type SourceProps = React.ComponentProps<\"a\"> &\n  VariantProps<typeof sourceVariants> & {\n    asChild?: boolean;\n  };\n\nfunction Source({\n  className,\n  variant,\n  size,\n  asChild = false,\n  target = \"_blank\",\n  rel = \"noopener noreferrer\",\n  ...props\n}: SourceProps) {\n  const Comp = asChild ? Slot : \"a\";\n\n  return (\n    <Comp\n      data-slot=\"source\"\n      data-variant={variant}\n      data-size={size}\n      target={target}\n      rel={rel}\n      className={cn(sourceVariants({ variant, size, className }))}\n      {...props}\n    />\n  );\n}\n\nconst SourcesImpl: SourceMessagePartComponent = ({\n  url,\n  title,\n  sourceType,\n}) => {\n  if (sourceType !== \"url\" || !url) return null;\n\n  const domain = extractDomain(url);\n  const displayTitle = title || domain;\n\n  return (\n    <Source href={url} target=\"_blank\" rel=\"noopener noreferrer\">\n      <SourceIcon url={url} />\n      <SourceTitle>{displayTitle}</SourceTitle>\n    </Source>\n  );\n};\n\nconst Sources = memo(SourcesImpl) as unknown as SourceMessagePartComponent & {\n  Root: typeof Source;\n  Icon: typeof SourceIcon;\n  Title: typeof SourceTitle;\n};\n\nSources.displayName = \"Sources\";\nSources.Root = Source;\nSources.Icon = SourceIcon;\nSources.Title = SourceTitle;\n\nexport { Sources, Source, SourceIcon, SourceTitle, sourceVariants };\n",
      "type": "registry:component",
      "path": "components/assistant-ui/sources.tsx"
    }
  ],
  "dependencies": [
    "@assistant-ui/react",
    "@radix-ui/react-slot",
    "class-variance-authority"
  ],
  "registryDependencies": []
}