{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "thread",
  "type": "registry:component",
  "files": [
    {
      "content": "import {\n  ComposerAddAttachment,\n  ComposerAttachments,\n  UserMessageAttachments,\n} from \"@/components/assistant-ui/attachment\";\nimport { MarkdownText } from \"@/components/assistant-ui/markdown-text\";\nimport { ToolFallback } from \"@/components/assistant-ui/tool-fallback\";\nimport { TooltipIconButton } from \"@/components/assistant-ui/tooltip-icon-button\";\nimport { Button } from \"@/components/ui/button\";\nimport { cn } from \"@/lib/utils\";\nimport {\n  ActionBarMorePrimitive,\n  ActionBarPrimitive,\n  AuiIf,\n  BranchPickerPrimitive,\n  ComposerPrimitive,\n  ErrorPrimitive,\n  MessagePrimitive,\n  ThreadPrimitive,\n} from \"@assistant-ui/react\";\nimport {\n  ArrowDownIcon,\n  ArrowUpIcon,\n  CheckIcon,\n  ChevronLeftIcon,\n  ChevronRightIcon,\n  CopyIcon,\n  DownloadIcon,\n  MoreHorizontalIcon,\n  PencilIcon,\n  RefreshCwIcon,\n  SquareIcon,\n} from \"lucide-react\";\nimport type { FC } from \"react\";\n\nexport const Thread: FC = () => {\n  return (\n    <ThreadPrimitive.Root\n      className=\"aui-root aui-thread-root @container flex h-full flex-col bg-background\"\n      style={{\n        [\"--thread-max-width\" as string]: \"44rem\",\n      }}\n    >\n      <ThreadPrimitive.Viewport\n        turnAnchor=\"top\"\n        className=\"aui-thread-viewport relative flex flex-1 flex-col overflow-x-auto overflow-y-scroll scroll-smooth px-4 pt-4\"\n      >\n        <AuiIf condition={({ thread }) => thread.isEmpty}>\n          <ThreadWelcome />\n        </AuiIf>\n\n        <ThreadPrimitive.Messages\n          components={{\n            UserMessage,\n            EditComposer,\n            AssistantMessage,\n          }}\n        />\n\n        <ThreadPrimitive.ViewportFooter className=\"aui-thread-viewport-footer sticky bottom-0 mx-auto mt-auto flex w-full max-w-(--thread-max-width) flex-col gap-4 overflow-visible rounded-t-3xl pb-4 md:pb-6\">\n          <ThreadScrollToBottom />\n          <Composer />\n        </ThreadPrimitive.ViewportFooter>\n      </ThreadPrimitive.Viewport>\n    </ThreadPrimitive.Root>\n  );\n};\n\nconst ThreadScrollToBottom: FC = () => {\n  return (\n    <ThreadPrimitive.ScrollToBottom asChild>\n      <TooltipIconButton\n        tooltip=\"Scroll to bottom\"\n        variant=\"outline\"\n        className=\"aui-thread-scroll-to-bottom absolute -top-12 z-10 self-center rounded-full p-4 disabled:invisible dark:bg-background dark:hover:bg-accent\"\n      >\n        <ArrowDownIcon />\n      </TooltipIconButton>\n    </ThreadPrimitive.ScrollToBottom>\n  );\n};\n\nconst ThreadWelcome: FC = () => {\n  return (\n    <div className=\"aui-thread-welcome-root mx-auto my-auto flex w-full max-w-(--thread-max-width) grow flex-col\">\n      <div className=\"aui-thread-welcome-center flex w-full grow flex-col items-center justify-center\">\n        <div className=\"aui-thread-welcome-message flex size-full flex-col justify-center px-4\">\n          <h1 className=\"aui-thread-welcome-message-inner fade-in slide-in-from-bottom-1 animate-in font-semibold text-2xl duration-200\">\n            Hello there!\n          </h1>\n          <p className=\"aui-thread-welcome-message-inner fade-in slide-in-from-bottom-1 animate-in text-muted-foreground text-xl delay-75 duration-200\">\n            How can I help you today?\n          </p>\n        </div>\n      </div>\n      <ThreadSuggestions />\n    </div>\n  );\n};\n\nconst SUGGESTIONS = [\n  {\n    title: \"What's the weather\",\n    label: \"in San Francisco?\",\n    prompt: \"What's the weather in San Francisco?\",\n  },\n  {\n    title: \"Explain React hooks\",\n    label: \"like useState and useEffect\",\n    prompt: \"Explain React hooks like useState and useEffect\",\n  },\n] as const;\n\nconst ThreadSuggestions: FC = () => {\n  return (\n    <div className=\"aui-thread-welcome-suggestions grid w-full @md:grid-cols-2 gap-2 pb-4\">\n      {SUGGESTIONS.map((suggestion, index) => (\n        <div\n          key={suggestion.prompt}\n          className=\"aui-thread-welcome-suggestion-display fade-in slide-in-from-bottom-2 @md:nth-[n+3]:block nth-[n+3]:hidden animate-in fill-mode-both duration-200\"\n          style={{ animationDelay: `${100 + index * 50}ms` }}\n        >\n          <ThreadPrimitive.Suggestion prompt={suggestion.prompt} send asChild>\n            <Button\n              variant=\"ghost\"\n              className=\"aui-thread-welcome-suggestion h-auto w-full @md:flex-col flex-wrap items-start justify-start gap-1 rounded-2xl border px-4 py-3 text-left text-sm transition-colors hover:bg-muted\"\n              aria-label={suggestion.prompt}\n            >\n              <span className=\"aui-thread-welcome-suggestion-text-1 font-medium\">\n                {suggestion.title}\n              </span>\n              <span className=\"aui-thread-welcome-suggestion-text-2 text-muted-foreground\">\n                {suggestion.label}\n              </span>\n            </Button>\n          </ThreadPrimitive.Suggestion>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nconst Composer: FC = () => {\n  return (\n    <ComposerPrimitive.Root className=\"aui-composer-root relative flex w-full flex-col\">\n      <ComposerPrimitive.AttachmentDropzone className=\"aui-composer-attachment-dropzone flex w-full flex-col rounded-2xl border border-input px-1 pt-2 outline-none transition-shadow has-[textarea:focus-visible]:border-ring has-[textarea:focus-visible]:ring-2 has-[textarea:focus-visible]:ring-ring/20 data-[dragging=true]:border-ring data-[dragging=true]:border-dashed data-[dragging=true]:bg-accent/50\">\n        <ComposerAttachments />\n        <ComposerPrimitive.Input\n          placeholder=\"Send a message...\"\n          className=\"aui-composer-input mb-1 max-h-32 min-h-14 w-full resize-none bg-transparent px-4 pt-2 pb-3 text-sm outline-none placeholder:text-muted-foreground focus-visible:ring-0\"\n          rows={1}\n          autoFocus\n          aria-label=\"Message input\"\n        />\n        <ComposerAction />\n      </ComposerPrimitive.AttachmentDropzone>\n    </ComposerPrimitive.Root>\n  );\n};\n\nconst ComposerAction: FC = () => {\n  return (\n    <div className=\"aui-composer-action-wrapper relative mx-2 mb-2 flex items-center justify-between\">\n      <ComposerAddAttachment />\n      <AuiIf condition={({ thread }) => !thread.isRunning}>\n        <ComposerPrimitive.Send asChild>\n          <TooltipIconButton\n            tooltip=\"Send message\"\n            side=\"bottom\"\n            type=\"submit\"\n            variant=\"default\"\n            size=\"icon\"\n            className=\"aui-composer-send size-8 rounded-full\"\n            aria-label=\"Send message\"\n          >\n            <ArrowUpIcon className=\"aui-composer-send-icon size-4\" />\n          </TooltipIconButton>\n        </ComposerPrimitive.Send>\n      </AuiIf>\n      <AuiIf condition={({ thread }) => thread.isRunning}>\n        <ComposerPrimitive.Cancel asChild>\n          <Button\n            type=\"button\"\n            variant=\"default\"\n            size=\"icon\"\n            className=\"aui-composer-cancel size-8 rounded-full\"\n            aria-label=\"Stop generating\"\n          >\n            <SquareIcon className=\"aui-composer-cancel-icon size-3 fill-current\" />\n          </Button>\n        </ComposerPrimitive.Cancel>\n      </AuiIf>\n    </div>\n  );\n};\n\nconst MessageError: FC = () => {\n  return (\n    <MessagePrimitive.Error>\n      <ErrorPrimitive.Root className=\"aui-message-error-root mt-2 rounded-md border border-destructive bg-destructive/10 p-3 text-destructive text-sm dark:bg-destructive/5 dark:text-red-200\">\n        <ErrorPrimitive.Message className=\"aui-message-error-message line-clamp-2\" />\n      </ErrorPrimitive.Root>\n    </MessagePrimitive.Error>\n  );\n};\n\nconst AssistantMessage: FC = () => {\n  return (\n    <MessagePrimitive.Root\n      className=\"aui-assistant-message-root fade-in slide-in-from-bottom-1 relative mx-auto w-full max-w-(--thread-max-width) animate-in py-3 duration-150\"\n      data-role=\"assistant\"\n    >\n      <div className=\"aui-assistant-message-content wrap-break-word px-2 text-foreground leading-relaxed\">\n        <MessagePrimitive.Parts\n          components={{\n            Text: MarkdownText,\n            tools: { Fallback: ToolFallback },\n          }}\n        />\n        <MessageError />\n      </div>\n\n      <div className=\"aui-assistant-message-footer mt-1 ml-2 flex\">\n        <BranchPicker />\n        <AssistantActionBar />\n      </div>\n    </MessagePrimitive.Root>\n  );\n};\n\nconst AssistantActionBar: FC = () => {\n  return (\n    <ActionBarPrimitive.Root\n      hideWhenRunning\n      autohide=\"not-last\"\n      autohideFloat=\"single-branch\"\n      className=\"aui-assistant-action-bar-root col-start-3 row-start-2 -ml-1 flex gap-1 text-muted-foreground data-floating:absolute data-floating:rounded-md data-floating:border data-floating:bg-background data-floating:p-1 data-floating:shadow-sm\"\n    >\n      <ActionBarPrimitive.Copy asChild>\n        <TooltipIconButton tooltip=\"Copy\">\n          <AuiIf condition={({ message }) => message.isCopied}>\n            <CheckIcon />\n          </AuiIf>\n          <AuiIf condition={({ message }) => !message.isCopied}>\n            <CopyIcon />\n          </AuiIf>\n        </TooltipIconButton>\n      </ActionBarPrimitive.Copy>\n      <ActionBarPrimitive.Reload asChild>\n        <TooltipIconButton tooltip=\"Refresh\">\n          <RefreshCwIcon />\n        </TooltipIconButton>\n      </ActionBarPrimitive.Reload>\n      <ActionBarMorePrimitive.Root>\n        <ActionBarMorePrimitive.Trigger asChild>\n          <TooltipIconButton\n            tooltip=\"More\"\n            className=\"data-[state=open]:bg-accent\"\n          >\n            <MoreHorizontalIcon />\n          </TooltipIconButton>\n        </ActionBarMorePrimitive.Trigger>\n        <ActionBarMorePrimitive.Content\n          side=\"bottom\"\n          align=\"start\"\n          className=\"aui-action-bar-more-content z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md\"\n        >\n          <ActionBarPrimitive.ExportMarkdown asChild>\n            <ActionBarMorePrimitive.Item className=\"aui-action-bar-more-item flex cursor-pointer select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground\">\n              <DownloadIcon className=\"size-4\" />\n              Export as Markdown\n            </ActionBarMorePrimitive.Item>\n          </ActionBarPrimitive.ExportMarkdown>\n        </ActionBarMorePrimitive.Content>\n      </ActionBarMorePrimitive.Root>\n    </ActionBarPrimitive.Root>\n  );\n};\n\nconst UserMessage: FC = () => {\n  return (\n    <MessagePrimitive.Root\n      className=\"aui-user-message-root fade-in slide-in-from-bottom-1 mx-auto grid w-full max-w-(--thread-max-width) animate-in auto-rows-auto grid-cols-[minmax(72px,1fr)_auto] content-start gap-y-2 px-2 py-3 duration-150 [&:where(>*)]:col-start-2\"\n      data-role=\"user\"\n    >\n      <UserMessageAttachments />\n\n      <div className=\"aui-user-message-content-wrapper relative col-start-2 min-w-0\">\n        <div className=\"aui-user-message-content wrap-break-word rounded-2xl bg-muted px-4 py-2.5 text-foreground\">\n          <MessagePrimitive.Parts />\n        </div>\n        <div className=\"aui-user-action-bar-wrapper absolute top-1/2 left-0 -translate-x-full -translate-y-1/2 pr-2\">\n          <UserActionBar />\n        </div>\n      </div>\n\n      <BranchPicker className=\"aui-user-branch-picker col-span-full col-start-1 row-start-3 -mr-1 justify-end\" />\n    </MessagePrimitive.Root>\n  );\n};\n\nconst UserActionBar: FC = () => {\n  return (\n    <ActionBarPrimitive.Root\n      hideWhenRunning\n      autohide=\"not-last\"\n      className=\"aui-user-action-bar-root flex flex-col items-end\"\n    >\n      <ActionBarPrimitive.Edit asChild>\n        <TooltipIconButton tooltip=\"Edit\" className=\"aui-user-action-edit p-4\">\n          <PencilIcon />\n        </TooltipIconButton>\n      </ActionBarPrimitive.Edit>\n    </ActionBarPrimitive.Root>\n  );\n};\n\nconst EditComposer: FC = () => {\n  return (\n    <MessagePrimitive.Root className=\"aui-edit-composer-wrapper mx-auto flex w-full max-w-(--thread-max-width) flex-col px-2 py-3\">\n      <ComposerPrimitive.Root className=\"aui-edit-composer-root ml-auto flex w-full max-w-[85%] flex-col rounded-2xl bg-muted\">\n        <ComposerPrimitive.Input\n          className=\"aui-edit-composer-input min-h-14 w-full resize-none bg-transparent p-4 text-foreground text-sm outline-none\"\n          autoFocus\n        />\n        <div className=\"aui-edit-composer-footer mx-3 mb-3 flex items-center gap-2 self-end\">\n          <ComposerPrimitive.Cancel asChild>\n            <Button variant=\"ghost\" size=\"sm\">\n              Cancel\n            </Button>\n          </ComposerPrimitive.Cancel>\n          <ComposerPrimitive.Send asChild>\n            <Button size=\"sm\">Update</Button>\n          </ComposerPrimitive.Send>\n        </div>\n      </ComposerPrimitive.Root>\n    </MessagePrimitive.Root>\n  );\n};\n\nconst BranchPicker: FC<BranchPickerPrimitive.Root.Props> = ({\n  className,\n  ...rest\n}) => {\n  return (\n    <BranchPickerPrimitive.Root\n      hideWhenSingleBranch\n      className={cn(\n        \"aui-branch-picker-root mr-2 -ml-2 inline-flex items-center text-muted-foreground text-xs\",\n        className,\n      )}\n      {...rest}\n    >\n      <BranchPickerPrimitive.Previous asChild>\n        <TooltipIconButton tooltip=\"Previous\">\n          <ChevronLeftIcon />\n        </TooltipIconButton>\n      </BranchPickerPrimitive.Previous>\n      <span className=\"aui-branch-picker-state font-medium\">\n        <BranchPickerPrimitive.Number /> / <BranchPickerPrimitive.Count />\n      </span>\n      <BranchPickerPrimitive.Next asChild>\n        <TooltipIconButton tooltip=\"Next\">\n          <ChevronRightIcon />\n        </TooltipIconButton>\n      </BranchPickerPrimitive.Next>\n    </BranchPickerPrimitive.Root>\n  );\n};\n",
      "type": "registry:component",
      "path": "components/assistant-ui/thread.tsx"
    }
  ],
  "dependencies": [
    "@assistant-ui/react",
    "lucide-react"
  ],
  "registryDependencies": [
    "button",
    "https://r.assistant-ui.com/attachment.json",
    "https://r.assistant-ui.com/markdown-text.json",
    "https://r.assistant-ui.com/tooltip-icon-button.json",
    "https://r.assistant-ui.com/tool-fallback.json"
  ]
}