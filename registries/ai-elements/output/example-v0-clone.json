{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "example-v0-clone",
  "type": "registry:block",
  "title": "V0 Clone Example",
  "description": "Example implementation of v0 clone.",
  "files": [
    {
      "path": "registry/default/examples/v0-clone.tsx",
      "type": "registry:block",
      "content": "\"use client\";\n\nimport { Conversation, ConversationContent } from \"@/components/ai-elements/conversation\";\nimport { Loader } from \"@/components/ai-elements/loader\";\nimport { Message, MessageContent } from \"@/components/ai-elements/message\";\nimport {\n  PromptInput,\n  type PromptInputMessage,\n  PromptInputSubmit,\n  PromptInputTextarea,\n} from \"@/components/ai-elements/prompt-input\";\nimport { Suggestion, Suggestions } from \"@/components/ai-elements/suggestion\";\nimport {\n  WebPreview,\n  WebPreviewBody,\n  WebPreviewNavigation,\n  WebPreviewUrl,\n} from \"@/components/ai-elements/web-preview\";\nimport { nanoid } from \"nanoid\";\nimport { useState } from \"react\";\n\ntype Chat = {\n  id: string;\n  demo: string;\n};\n\nexport default function Home() {\n  const [message, setMessage] = useState(\"\");\n  const [currentChat, setCurrentChat] = useState<Chat | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [chatHistory, setChatHistory] = useState<\n    Array<{\n      id: string;\n      type: \"user\" | \"assistant\";\n      content: string;\n    }>\n  >([]);\n\n  const handleSendMessage = async (promptMessage: PromptInputMessage) => {\n    const hasText = Boolean(promptMessage.text);\n    const hasAttachments = Boolean(promptMessage.files?.length);\n\n    if (!(hasText || hasAttachments) || isLoading) {\n      return;\n    }\n\n    const userMessage = promptMessage.text?.trim() || \"Sent with attachments\";\n    setMessage(\"\");\n    setIsLoading(true);\n\n    setChatHistory((prev) => [\n      ...prev,\n      { id: nanoid(), type: \"user\", content: userMessage },\n    ]);\n\n    try {\n      const response = await fetch(\"/api/v0\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          message: userMessage,\n          chatId: currentChat?.id,\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Failed to create chat\");\n      }\n\n      const chat: Chat = await response.json();\n      setCurrentChat(chat);\n\n      setChatHistory((prev) => [\n        ...prev,\n        {\n          id: nanoid(),\n          type: \"assistant\",\n          content: \"Generated new app preview. Check the preview panel!\",\n        },\n      ]);\n    } catch (error) {\n      console.error(\"Error:\", error);\n      setChatHistory((prev) => [\n        ...prev,\n        {\n          id: nanoid(),\n          type: \"assistant\",\n          content:\n            \"Sorry, there was an error creating your app. Please try again.\",\n        },\n      ]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex h-[800px]\">\n      {/* Chat Panel */}\n      <div className=\"flex w-1/2 flex-col border-r\">\n        {/* Header */}\n        <div className=\"flex h-14 items-center justify-between border-b p-3\">\n          <h1 className=\"font-semibold text-lg\">v0 Clone</h1>\n        </div>\n\n        <div className=\"flex-1 space-y-4 overflow-y-auto p-4\">\n          {chatHistory.length === 0 ? (\n            <div className=\"mt-8 text-center font-semibold\">\n              <p className=\"mt-4 text-3xl\">What can we build together?</p>\n            </div>\n          ) : (\n            <>\n              <Conversation>\n                <ConversationContent>\n                  {chatHistory.map((msg) => (\n                    <Message from={msg.type} key={msg.id}>\n                      <MessageContent>{msg.content}</MessageContent>\n                    </Message>\n                  ))}\n                </ConversationContent>\n              </Conversation>\n              {isLoading && (\n                <Message from=\"assistant\">\n                  <MessageContent>\n                    <p className=\"flex items-center gap-2\">\n                      <Loader />\n                      Creating your app...\n                    </p>\n                  </MessageContent>\n                </Message>\n              )}\n            </>\n          )}\n        </div>\n\n        {/* Input */}\n        <div className=\"border-t p-4\">\n          {!currentChat && (\n            <Suggestions>\n              <Suggestion\n                onClick={() =>\n                  setMessage(\"Create a responsive navbar with Tailwind CSS\")\n                }\n                suggestion=\"Create a responsive navbar with Tailwind CSS\"\n              />\n              <Suggestion\n                onClick={() => setMessage(\"Build a todo app with React\")}\n                suggestion=\"Build a todo app with React\"\n              />\n              <Suggestion\n                onClick={() =>\n                  setMessage(\"Make a landing page for a coffee shop\")\n                }\n                suggestion=\"Make a landing page for a coffee shop\"\n              />\n            </Suggestions>\n          )}\n          <div className=\"flex gap-2\">\n            <PromptInput\n              className=\"relative mx-auto mt-4 w-full max-w-2xl\"\n              onSubmit={handleSendMessage}\n            >\n              <PromptInputTextarea\n                className=\"min-h-[60px] pr-12\"\n                onChange={(e) => setMessage(e.target.value)}\n                value={message}\n              />\n              <PromptInputSubmit\n                className=\"absolute right-1 bottom-1\"\n                disabled={!message}\n                status={isLoading ? \"streaming\" : \"ready\"}\n              />\n            </PromptInput>\n          </div>\n        </div>\n      </div>\n\n      {/* Preview Panel */}\n      <div className=\"flex w-1/2 flex-col\">\n        <WebPreview>\n          <WebPreviewNavigation>\n            <WebPreviewUrl\n              placeholder=\"Your app here...\"\n              value={currentChat?.demo}\n            />\n          </WebPreviewNavigation>\n          <WebPreviewBody src={currentChat?.demo} />\n        </WebPreview>\n      </div>\n    </div>\n  );\n}\n",
      "target": "components/ai-elements/example-v0-clone.tsx"
    }
  ],
  "dependencies": [
    "nanoid"
  ],
  "devDependencies": [],
  "registryDependencies": [
    "https://registry.ai-sdk.dev/conversation.json",
    "https://registry.ai-sdk.dev/loader.json",
    "https://registry.ai-sdk.dev/message.json",
    "https://registry.ai-sdk.dev/prompt-input.json",
    "https://registry.ai-sdk.dev/suggestion.json",
    "https://registry.ai-sdk.dev/web-preview.json"
  ]
}