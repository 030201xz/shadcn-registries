{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "example-queue",
  "type": "registry:block",
  "title": "Queue Example",
  "description": "Example implementation of queue.",
  "files": [
    {
      "path": "registry/default/examples/queue.tsx",
      "type": "registry:block",
      "content": "\"use client\";\n\nimport {\n  Queue,\n  QueueItem,\n  QueueItemAction,\n  QueueItemActions,\n  QueueItemAttachment,\n  QueueItemContent,\n  QueueItemDescription,\n  QueueItemFile,\n  QueueItemImage,\n  QueueItemIndicator,\n  QueueList,\n  type QueueMessage,\n  QueueSection,\n  QueueSectionContent,\n  QueueSectionLabel,\n  QueueSectionTrigger,\n  type QueueTodo,\n} from \"@/components/ai-elements/queue\";\nimport { ArrowUp, Trash2 } from \"lucide-react\";\nimport { useState } from \"react\";\n\nconst sampleMessages: QueueMessage[] = [\n  {\n    id: \"msg-1\",\n    parts: [{ type: \"text\", text: \"How do I set up the project?\" }],\n  },\n  {\n    id: \"msg-2\",\n    parts: [{ type: \"text\", text: \"What is the roadmap for Q4?\" }],\n  },\n  {\n    id: \"msg-3\",\n    parts: [{ type: \"text\", text: \"Update the default logo to this png.\" },\n      {\n      type: \"file\",\n      url: \"https://github.com/haydenbleasel.png\",\n      filename: \"setup-guide.png\",\n      mediaType: \"image/png\",\n    }\n    ],\n  },\n  {\n    id: \"msg-4\",\n    parts: [{ type: \"text\", text: \"Please generate a changelog.\" }],\n  },\n  {\n    id: \"msg-5\",\n    parts: [{ type: \"text\", text: \"Add dark mode support.\" }],\n  },\n  {\n    id: \"msg-6\",\n    parts: [{ type: \"text\", text: \"Optimize database queries.\" }],\n  },\n  {\n    id: \"msg-7\",\n    parts: [{ type: \"text\", text: \"Set up CI/CD pipeline.\" }],\n  },\n];\n\nconst sampleTodos: QueueTodo[] = [\n  {\n    id: \"todo-1\",\n    title: \"Write project documentation\",\n    description: \"Complete the README and API docs\",\n    status: \"completed\",\n  },\n  {\n    id: \"todo-2\",\n    title: \"Implement authentication\",\n    status: \"pending\",\n  },\n  {\n    id: \"todo-3\",\n    title: \"Fix bug #42\",\n    description: \"Resolve crash on settings page\",\n    status: \"pending\",\n  },\n  {\n    id: \"todo-4\",\n    title: \"Refactor queue logic\",\n    description: \"Unify queue and todo state management\",\n    status: \"pending\",\n  },\n  {\n    id: \"todo-5\",\n    title: \"Add unit tests\",\n    description: \"Increase test coverage for hooks\",\n    status: \"pending\",\n  },\n];\n\nconst Example = () => {\n  const [messages, setMessages] = useState(sampleMessages);\n  const [todos, setTodos] = useState(sampleTodos);\n\n  const handleRemoveMessage = (id: string) => {\n    setMessages((prev) => prev.filter((msg) => msg.id !== id));\n  };\n\n  const handleRemoveTodo = (id: string) => {\n    setTodos((prev) => prev.filter((todo) => todo.id !== id));\n  };\n\n  const handleSendNow = (id: string) => {\n    console.log(\"Send now:\", id);\n    handleRemoveMessage(id);\n  };\n\n  if (messages.length === 0 && todos.length === 0) {\n    return null;\n  }\n\n  return (\n    <Queue>\n      {messages.length > 0 && (\n        <QueueSection>\n          <QueueSectionTrigger>\n            <QueueSectionLabel count={messages.length} label=\"Queued\" />\n          </QueueSectionTrigger>\n          <QueueSectionContent>\n            <QueueList>\n              {messages.map((message) => {\n                const summary = (() => {\n                  const textParts = message.parts.filter(\n                    (p) => p.type === \"text\"\n                  );\n                  const text = textParts\n                    .map((p) => p.text)\n                    .join(\" \")\n                    .trim();\n                  return text || \"(queued message)\";\n                })();\n\n                const hasFiles = message.parts.some(\n                  (p) => p.type === \"file\" && p.url\n                );\n\n                return (\n                  <QueueItem key={message.id}>\n                    <div className=\"flex items-center gap-2\">\n                      <QueueItemIndicator />\n                      <QueueItemContent>{summary}</QueueItemContent>\n                      <QueueItemActions>\n                        <QueueItemAction\n                          aria-label=\"Remove from queue\"\n                          onClick={(e) => {\n                            e.preventDefault();\n                            e.stopPropagation();\n                            handleRemoveMessage(message.id);\n                          }}\n                          title=\"Remove from queue\"\n                        >\n                          <Trash2 size={12} />\n                        </QueueItemAction>\n                        <QueueItemAction\n                          aria-label=\"Send now\"\n                          onClick={(e) => {\n                            e.preventDefault();\n                            e.stopPropagation();\n                            handleSendNow(message.id);\n                          }}\n                        >\n                          <ArrowUp size={14} />\n                        </QueueItemAction>\n                      </QueueItemActions>\n                    </div>\n                    {hasFiles && (\n                      <QueueItemAttachment>\n                        {message.parts\n                          .filter((p) => p.type === \"file\" && p.url)\n                          .map((file) => {\n                            if (\n                              file.mediaType?.startsWith(\"image/\") &&\n                              file.url\n                            ) {\n                              return (\n                                <QueueItemImage\n                                  alt={file.filename || \"attachment\"}\n                                  key={file.url}\n                                  src={file.url}\n                                />\n                              );\n                            }\n                            return (\n                              <QueueItemFile key={file.url}>\n                                {file.filename || \"file\"}\n                              </QueueItemFile>\n                            );\n                          })}\n                      </QueueItemAttachment>\n                    )}\n                  </QueueItem>\n                );\n              })}\n            </QueueList>\n          </QueueSectionContent>\n        </QueueSection>\n      )}\n      {todos.length > 0 && (\n        <QueueSection>\n          <QueueSectionTrigger>\n            <QueueSectionLabel count={todos.length} label=\"Todo\" />\n          </QueueSectionTrigger>\n          <QueueSectionContent>\n            <QueueList>\n              {todos.map((todo) => {\n                const isCompleted = todo.status === \"completed\";\n\n                return (\n                  <QueueItem key={todo.id}>\n                    <div className=\"flex items-center gap-2\">\n                      <QueueItemIndicator completed={isCompleted} />\n                      <QueueItemContent completed={isCompleted}>\n                        {todo.title}\n                      </QueueItemContent>\n                      <QueueItemActions>\n                        <QueueItemAction\n                          aria-label=\"Remove todo\"\n                          onClick={() => handleRemoveTodo(todo.id)}\n                        >\n                          <Trash2 size={12} />\n                        </QueueItemAction>\n                      </QueueItemActions>\n                    </div>\n                    {todo.description && (\n                      <QueueItemDescription completed={isCompleted}>\n                        {todo.description}\n                      </QueueItemDescription>\n                    )}\n                  </QueueItem>\n                );\n              })}\n            </QueueList>\n          </QueueSectionContent>\n        </QueueSection>\n      )}\n    </Queue>\n  );\n};\n\nexport default Example;\n",
      "target": "components/ai-elements/example-queue.tsx"
    }
  ],
  "dependencies": [
    "lucide-react"
  ],
  "devDependencies": [],
  "registryDependencies": [
    "https://registry.ai-sdk.dev/queue.json"
  ]
}