{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "example-queue-prompt-input",
  "type": "registry:block",
  "title": "Queue Prompt Input Example",
  "description": "Example implementation of queue prompt-input.",
  "files": [
    {
      "path": "registry/default/examples/queue-prompt-input.tsx",
      "type": "registry:block",
      "content": "\"use client\";\n\nimport {\n  ModelSelector,\n  ModelSelectorContent,\n  ModelSelectorEmpty,\n  ModelSelectorGroup,\n  ModelSelectorInput,\n  ModelSelectorItem,\n  ModelSelectorList,\n  ModelSelectorLogo,\n  ModelSelectorLogoGroup,\n  ModelSelectorName,\n  ModelSelectorTrigger,\n} from \"@/components/ai-elements/model-selector\";\nimport {\n  PromptInput,\n  PromptInputActionAddAttachments,\n  PromptInputActionMenu,\n  PromptInputActionMenuContent,\n  PromptInputActionMenuTrigger,\n  PromptInputAttachment,\n  PromptInputAttachments,\n  PromptInputBody,\n  PromptInputButton,\n  PromptInputFooter,\n  PromptInputHeader,\n  type PromptInputMessage,\n  PromptInputSubmit,\n  PromptInputTextarea,\n  PromptInputTools,\n} from \"@/components/ai-elements/prompt-input\";\nimport {\n  Queue,\n  QueueItem,\n  QueueItemAction,\n  QueueItemActions,\n  QueueItemContent,\n  QueueItemDescription,\n  QueueItemIndicator,\n  QueueSection,\n  QueueSectionContent,\n  type QueueTodo,\n} from \"@/components/ai-elements/queue\";\nimport { CheckIcon, GlobeIcon, Trash2 } from \"lucide-react\";\nimport { useRef, useState } from \"react\";\n\nconst models = [\n  {\n    id: \"gpt-4o\",\n    name: \"GPT-4o\",\n    chef: \"OpenAI\",\n    chefSlug: \"openai\",\n    providers: [\"openai\", \"azure\"],\n  },\n  {\n    id: \"gpt-4o-mini\",\n    name: \"GPT-4o Mini\",\n    chef: \"OpenAI\",\n    chefSlug: \"openai\",\n    providers: [\"openai\", \"azure\"],\n  },\n  {\n    id: \"claude-opus-4-20250514\",\n    name: \"Claude 4 Opus\",\n    chef: \"Anthropic\",\n    chefSlug: \"anthropic\",\n    providers: [\"anthropic\", \"azure\", \"google\", \"amazon-bedrock\"],\n  },\n  {\n    id: \"claude-sonnet-4-20250514\",\n    name: \"Claude 4 Sonnet\",\n    chef: \"Anthropic\",\n    chefSlug: \"anthropic\",\n    providers: [\"anthropic\", \"azure\", \"google\", \"amazon-bedrock\"],\n  },\n  {\n    id: \"gemini-2.0-flash-exp\",\n    name: \"Gemini 2.0 Flash\",\n    chef: \"Google\",\n    chefSlug: \"google\",\n    providers: [\"google\"],\n  },\n];\n\nconst SUBMITTING_TIMEOUT = 200;\nconst STREAMING_TIMEOUT = 2000;\n\nconst sampleTodos: QueueTodo[] = [\n  {\n    id: \"todo-1\",\n    title: \"Write project documentation\",\n    description: \"Complete the README and API docs\",\n    status: \"completed\",\n  },\n  {\n    id: \"todo-2\",\n    title: \"Implement authentication\",\n    status: \"pending\",\n  },\n  {\n    id: \"todo-3\",\n    title: \"Fix bug #42\",\n    description: \"Resolve crash on settings page\",\n    status: \"pending\",\n  },\n  {\n    id: \"todo-4\",\n    title: \"Refactor queue logic\",\n    description: \"Unify queue and todo state management\",\n    status: \"pending\",\n  },\n  {\n    id: \"todo-5\",\n    title: \"Add unit tests\",\n    description: \"Increase test coverage for hooks\",\n    status: \"pending\",\n  },\n];\n\nconst Example = () => {\n  const [todos, setTodos] = useState(sampleTodos);\n\n  const handleRemoveTodo = (id: string) => {\n    setTodos((prev) => prev.filter((todo) => todo.id !== id));\n  };\n\n  const [text, setText] = useState<string>(\"\");\n  const [model, setModel] = useState<string>(models[0].id);\n  const [modelSelectorOpen, setModelSelectorOpen] = useState(false);\n  const [status, setStatus] = useState<\n    \"submitted\" | \"streaming\" | \"ready\" | \"error\"\n  >(\"ready\");\n  const timeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n  const selectedModelData = models.find((m) => m.id === model);\n\n  const stop = () => {\n    console.log(\"Stopping request...\");\n\n    // Clear any pending timeouts\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n      timeoutRef.current = null;\n    }\n\n    setStatus(\"ready\");\n  };\n\n  const handleSubmit = (message: PromptInputMessage) => {\n    // If currently streaming or submitted, stop instead of submitting\n    if (status === \"streaming\" || status === \"submitted\") {\n      stop();\n      return;\n    }\n\n    const hasText = Boolean(message.text);\n    const hasAttachments = Boolean(message.files?.length);\n\n    if (!(hasText || hasAttachments)) {\n      return;\n    }\n\n    setStatus(\"submitted\");\n\n    console.log(\"Submitting message:\", message);\n\n    setTimeout(() => {\n      setStatus(\"streaming\");\n    }, SUBMITTING_TIMEOUT);\n\n    timeoutRef.current = setTimeout(() => {\n      setStatus(\"ready\");\n      timeoutRef.current = null;\n    }, STREAMING_TIMEOUT);\n  };\n\n  return (\n    <div className=\"flex size-full flex-col justify-end\">\n      <Queue className=\"mx-auto max-h-[150px] w-[95%] overflow-y-auto rounded-b-none border-input border-b-0\">\n        {todos.length > 0 && (\n          <QueueSection>\n            <QueueSectionContent>\n              <div>\n                {todos.map((todo) => {\n                  const isCompleted = todo.status === \"completed\";\n\n                  return (\n                    <QueueItem key={todo.id}>\n                      <div className=\"flex items-center gap-2\">\n                        <QueueItemIndicator completed={isCompleted} />\n                        <QueueItemContent completed={isCompleted}>\n                          {todo.title}\n                        </QueueItemContent>\n                        <QueueItemActions>\n                          <QueueItemAction\n                            aria-label=\"Remove todo\"\n                            onClick={() => handleRemoveTodo(todo.id)}\n                          >\n                            <Trash2 size={12} />\n                          </QueueItemAction>\n                        </QueueItemActions>\n                      </div>\n                      {todo.description && (\n                        <QueueItemDescription completed={isCompleted}>\n                          {todo.description}\n                        </QueueItemDescription>\n                      )}\n                    </QueueItem>\n                  );\n                })}\n              </div>\n            </QueueSectionContent>\n          </QueueSection>\n        )}\n      </Queue>\n      <PromptInput globalDrop multiple onSubmit={handleSubmit}>\n        <PromptInputHeader>\n          <PromptInputAttachments>\n            {(attachment) => <PromptInputAttachment data={attachment} />}\n          </PromptInputAttachments>\n        </PromptInputHeader>\n        <PromptInputBody>\n          <PromptInputTextarea\n            onChange={(e) => setText(e.target.value)}\n            value={text}\n          />\n        </PromptInputBody>\n        <PromptInputFooter>\n          <PromptInputTools>\n            <PromptInputActionMenu>\n              <PromptInputActionMenuTrigger />\n              <PromptInputActionMenuContent>\n                <PromptInputActionAddAttachments />\n              </PromptInputActionMenuContent>\n            </PromptInputActionMenu>\n            <PromptInputButton>\n              <GlobeIcon size={16} />\n              <span>Search</span>\n            </PromptInputButton>\n            <ModelSelector\n              onOpenChange={setModelSelectorOpen}\n              open={modelSelectorOpen}\n            >\n              <ModelSelectorTrigger asChild>\n                <PromptInputButton>\n                  {selectedModelData?.chefSlug && (\n                    <ModelSelectorLogo provider={selectedModelData.chefSlug} />\n                  )}\n                  {selectedModelData?.name && (\n                    <ModelSelectorName>\n                      {selectedModelData.name}\n                    </ModelSelectorName>\n                  )}\n                </PromptInputButton>\n              </ModelSelectorTrigger>\n              <ModelSelectorContent>\n                <ModelSelectorInput placeholder=\"Search models...\" />\n                <ModelSelectorList>\n                  <ModelSelectorEmpty>No models found.</ModelSelectorEmpty>\n                  {[\"OpenAI\", \"Anthropic\", \"Google\"].map((chef) => (\n                    <ModelSelectorGroup heading={chef} key={chef}>\n                      {models\n                        .filter((m) => m.chef === chef)\n                        .map((m) => (\n                          <ModelSelectorItem\n                            key={m.id}\n                            onSelect={() => {\n                              setModel(m.id);\n                              setModelSelectorOpen(false);\n                            }}\n                            value={m.id}\n                          >\n                            <ModelSelectorLogo provider={m.chefSlug} />\n                            <ModelSelectorName>{m.name}</ModelSelectorName>\n                            <ModelSelectorLogoGroup>\n                              {m.providers.map((provider) => (\n                                <ModelSelectorLogo\n                                  key={provider}\n                                  provider={provider}\n                                />\n                              ))}\n                            </ModelSelectorLogoGroup>\n                            {model === m.id ? (\n                              <CheckIcon className=\"ml-auto size-4\" />\n                            ) : (\n                              <div className=\"ml-auto size-4\" />\n                            )}\n                          </ModelSelectorItem>\n                        ))}\n                    </ModelSelectorGroup>\n                  ))}\n                </ModelSelectorList>\n              </ModelSelectorContent>\n            </ModelSelector>\n          </PromptInputTools>\n          <PromptInputSubmit status={status} />\n        </PromptInputFooter>\n      </PromptInput>\n    </div>\n  );\n};\n\nexport default Example;\n",
      "target": "components/ai-elements/example-queue-prompt-input.tsx"
    }
  ],
  "dependencies": [
    "lucide-react"
  ],
  "devDependencies": [],
  "registryDependencies": [
    "https://registry.ai-sdk.dev/model-selector.json",
    "https://registry.ai-sdk.dev/prompt-input.json",
    "https://registry.ai-sdk.dev/queue.json"
  ]
}