{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "example-message",
  "type": "registry:block",
  "title": "Message Example",
  "description": "Example implementation of message.",
  "files": [
    {
      "path": "registry/default/examples/message.tsx",
      "type": "registry:block",
      "content": "\"use client\";\n\nimport {\n  Message,\n  MessageAction,\n  MessageActions,\n  MessageAttachment,\n  MessageAttachments,\n  MessageBranch,\n  MessageBranchContent,\n  MessageBranchNext,\n  MessageBranchPage,\n  MessageBranchPrevious,\n  MessageBranchSelector,\n  MessageContent,\n  MessageResponse,\n  MessageToolbar,\n} from \"@/components/ai-elements/message\";\nimport {\n  CopyIcon,\n  RefreshCcwIcon,\n  ThumbsDownIcon,\n  ThumbsUpIcon,\n} from \"lucide-react\";\nimport { nanoid } from \"nanoid\";\nimport { useState } from \"react\";\n\nconst messages: {\n  key: string;\n  from: \"user\" | \"assistant\";\n  versions?: { id: string; content: string }[];\n  content?: string;\n  attachments?: {\n    type: \"file\";\n    url: string;\n    mediaType?: string;\n    filename?: string;\n  }[];\n}[] = [\n  {\n    key: nanoid(),\n    from: \"user\",\n    content: \"How do React hooks work and when should I use them?\",\n    attachments: [\n      {\n        type: \"file\",\n        url: \"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=400&fit=crop\",\n        mediaType: \"image/jpeg\",\n        filename: \"palace-of-fine-arts.jpg\",\n      },\n      {\n        type: \"file\",\n        url: \"\",\n        mediaType: \"application/pdf\",\n        filename: \"react-hooks-guide.pdf\",\n      },\n    ],\n  },\n  {\n    key: nanoid(),\n    from: \"assistant\",\n    versions: [\n      {\n        id: nanoid(),\n        content: `# React Hooks Guide\n\nReact hooks are functions that let you \"hook into\" React state and lifecycle features from function components. Here's what you need to know:\n\n## Core Hooks\n\n### useState\nAdds state to functional components:\n\n\\`\\`\\`jsx\nconst [count, setCount] = useState(0);\n\nreturn (\n  <button onClick={() => setCount(count + 1)}>\n    Count: {count}\n  </button>\n);\n\\`\\`\\`\n\n### useEffect\nHandles side effects (data fetching, subscriptions, DOM updates):\n\n\\`\\`\\`jsx\nuseEffect(() => {\n  document.title = \\`You clicked \\${count} times\\`;\n\n  // Cleanup function (optional)\n  return () => {\n    document.title = 'React App';\n  };\n}, [count]); // Dependency array\n\\`\\`\\`\n\n## When to Use Hooks\n\n- ✅ **Function components** - Hooks only work in function components\n- ✅ **Replacing class components** - Modern React favors hooks over classes\n- ✅ **Sharing stateful logic** - Create custom hooks to reuse logic\n- ❌ **Class components** - Use lifecycle methods instead\n\n## Rules of Hooks\n\n1. Only call hooks at the **top level** (not inside loops, conditions, or nested functions)\n2. Only call hooks from **React functions** (components or custom hooks)\n\nWould you like to explore more advanced hooks like \\`useCallback\\` or \\`useMemo\\`?`,\n      },\n      {\n        id: nanoid(),\n        content: `React hooks are special functions that let you use React features in function components. The most common ones are:\n\n- **useState** - for managing component state\n- **useEffect** - for side effects like data fetching\n- **useContext** - for consuming context values\n- **useRef** - for accessing DOM elements\n\nHere's a simple example:\n\n\\`\\`\\`jsx\nfunction Counter() {\n  const [count, setCount] = useState(0);\n\n  return (\n    <button onClick={() => setCount(count + 1)}>\n      Clicked {count} times\n    </button>\n  );\n}\n\\`\\`\\`\n\nWhich specific hook would you like to learn more about?`,\n      },\n      {\n        id: nanoid(),\n        content: `Absolutely! React hooks are a powerful feature introduced in React 16.8. They solve several problems:\n\n## Key Benefits\n\n1. **Simpler code** - No need for class components\n2. **Reusable logic** - Extract stateful logic into custom hooks\n3. **Better organization** - Group related code together\n\n## Most Popular Hooks\n\n| Hook | Purpose |\n|------|---------|\n| useState | Add state to components |\n| useEffect | Handle side effects |\n| useContext | Access context values |\n| useReducer | Complex state logic |\n| useCallback | Memoize functions |\n| useMemo | Memoize values |\n\nThe beauty of hooks is that they let you reuse stateful logic without changing your component hierarchy. Want to dive into a specific hook?`,\n      },\n    ],\n  },\n];\n\nconst Example = () => {\n  const [liked, setLiked] = useState<Record<string, boolean>>({});\n  const [disliked, setDisliked] = useState<Record<string, boolean>>({});\n\n  const handleCopy = (content: string) => {\n    navigator.clipboard.writeText(content);\n  };\n\n  const handleRetry = () => {\n    console.log(\"Retrying...\");\n  };\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      {messages.map((message) => (\n        <Message from={message.from} key={message.key}>\n          {message.versions?.length && message.versions.length > 1 ? (\n            <MessageBranch defaultBranch={0} key={message.key}>\n              <MessageBranchContent>\n                {message.versions?.map((version) => (\n                  <MessageContent key={version.id}>\n                    <MessageResponse>{version.content}</MessageResponse>\n                  </MessageContent>\n                ))}\n              </MessageBranchContent>\n              {message.from === \"assistant\" && (\n                <MessageToolbar>\n                  <MessageBranchSelector from={message.from}>\n                    <MessageBranchPrevious />\n                    <MessageBranchPage />\n                    <MessageBranchNext />\n                  </MessageBranchSelector>\n                  <MessageActions>\n                    <MessageAction\n                      label=\"Retry\"\n                      onClick={handleRetry}\n                      tooltip=\"Regenerate response\"\n                    >\n                      <RefreshCcwIcon className=\"size-4\" />\n                    </MessageAction>\n                    <MessageAction\n                      label=\"Like\"\n                      onClick={() =>\n                        setLiked((prev) => ({\n                          ...prev,\n                          [message.key]: !prev[message.key],\n                        }))\n                      }\n                      tooltip=\"Like this response\"\n                    >\n                      <ThumbsUpIcon\n                        className=\"size-4\"\n                        fill={liked[message.key] ? \"currentColor\" : \"none\"}\n                      />\n                    </MessageAction>\n                    <MessageAction\n                      label=\"Dislike\"\n                      onClick={() =>\n                        setDisliked((prev) => ({\n                          ...prev,\n                          [message.key]: !prev[message.key],\n                        }))\n                      }\n                      tooltip=\"Dislike this response\"\n                    >\n                      <ThumbsDownIcon\n                        className=\"size-4\"\n                        fill={disliked[message.key] ? \"currentColor\" : \"none\"}\n                      />\n                    </MessageAction>\n                    <MessageAction\n                      label=\"Copy\"\n                      onClick={() =>\n                        handleCopy(\n                          message.versions?.find((v) => v.id)?.content || \"\"\n                        )\n                      }\n                      tooltip=\"Copy to clipboard\"\n                    >\n                      <CopyIcon className=\"size-4\" />\n                    </MessageAction>\n                  </MessageActions>\n                </MessageToolbar>\n              )}\n            </MessageBranch>\n          ) : (\n            <div key={message.key}>\n              {message.attachments && message.attachments.length > 0 && (\n                <MessageAttachments className=\"mb-2\">\n                  {message.attachments.map((attachment) => (\n                    <MessageAttachment data={attachment} key={attachment.url} />\n                  ))}\n                </MessageAttachments>\n              )}\n              <MessageContent>\n                {message.from === \"assistant\" ? (\n                  <MessageResponse>{message.content}</MessageResponse>\n                ) : (\n                  message.content\n                )}\n              </MessageContent>\n              {message.from === \"assistant\" && message.versions && (\n                <MessageActions>\n                  <MessageAction\n                    label=\"Retry\"\n                    onClick={handleRetry}\n                    tooltip=\"Regenerate response\"\n                  >\n                    <RefreshCcwIcon className=\"size-4\" />\n                  </MessageAction>\n                  <MessageAction\n                    label=\"Like\"\n                    onClick={() =>\n                      setLiked((prev) => ({\n                        ...prev,\n                        [message.key]: !prev[message.key],\n                      }))\n                    }\n                    tooltip=\"Like this response\"\n                  >\n                    <ThumbsUpIcon\n                      className=\"size-4\"\n                      fill={liked[message.key] ? \"currentColor\" : \"none\"}\n                    />\n                  </MessageAction>\n                  <MessageAction\n                    label=\"Dislike\"\n                    onClick={() =>\n                      setDisliked((prev) => ({\n                        ...prev,\n                        [message.key]: !prev[message.key],\n                      }))\n                    }\n                    tooltip=\"Dislike this response\"\n                  >\n                    <ThumbsDownIcon\n                      className=\"size-4\"\n                      fill={disliked[message.key] ? \"currentColor\" : \"none\"}\n                    />\n                  </MessageAction>\n                  <MessageAction\n                    label=\"Copy\"\n                    onClick={() => handleCopy(message.content || \"\")}\n                    tooltip=\"Copy to clipboard\"\n                  >\n                    <CopyIcon className=\"size-4\" />\n                  </MessageAction>\n                </MessageActions>\n              )}\n            </div>\n          )}\n        </Message>\n      ))}\n    </div>\n  );\n};\n\nexport default Example;\n",
      "target": "components/ai-elements/example-message.tsx"
    }
  ],
  "dependencies": [
    "lucide-react",
    "nanoid"
  ],
  "devDependencies": [],
  "registryDependencies": [
    "https://registry.ai-sdk.dev/message.json"
  ]
}